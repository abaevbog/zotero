#citation-dialog {
	min-width: 800px;
	height: 100%;
	-moz-window-dragging: drag;

	body {
		height: inherit;
		background: white;
		margin: 0;
		color: var(--fill-primary);
	}

	[hidden] {
		display: none !important;
	}
	
	.layout {
		display: contents;
	}

	#search-row {
		margin: 5px 10px 5px 0;
		-moz-window-dragging: no-drag;

		#z-icon-container {
			display: flex;
			justify-content: center;
			align-items: center;
			width: 36px; // same as left margin on .library-other-items

			#z-icon {
				background-image: url(chrome://zotero/skin/z.svg);
				width: 16px;
				height: 16px;
				pointer-events: all;
			}
		}

		.icon {
			border: none;
			width: 28px;
			height: 28px;
			padding: 0;
			color: var(--fill-secondary);
			background-size: 60% !important;
			border-radius: 5px;
			&:hover {
				background-color: var(--fill-quinary) !important;
			}
			&:active {
				background-color: var(--fill-quarternary) !important;
			}
		}
		#mode-button {
			&[mode="library"] {
				@include svgicon("dialog-search-library", "universal", "16");
			}
			&[mode="list"] {
				@include svgicon("dialog-search-list", "universal", "16");
			}
			margin-inline-end: 12px;
		}
		#settings-button {
			@include svgicon("dialog-options", "universal", "16");
		}
	}

	.divider {
		border-bottom: 1px solid var(--color-panedivider);
		margin: 0;
	}

	#library-layout {
		#library-other-items {

			margin-left: 36px;
			border-top: 1px solid var(--fill-quinary);

			.section {
				min-width: 0;
				flex: 1;
	
				.header {
					color: var(--fill-secondary);
				}
		
				.itemsContainer {
					overflow-x: scroll;
		
					.item {
						height: 42px;
						flex-shrink: 0;
						width: 210px;
						overflow: hidden;
						white-space: nowrap;
						margin: 10px;
						&:first-child {
							margin-left: 0;
						}
						border: 1px solid var(--fill-quarternary);
						border-radius: 5px;
						-moz-window-dragging: no-drag;
		
						display: flex;
						flex-direction: column;
						justify-content: center;
		
						cursor: default;
						padding: 0 4px;
						line-height: 18px;
						-moz-user-select: none;
	
						&:hover {
							background-color: var(--fill-quarternary);
						}
		
						.title {
							overflow: hidden;
							text-overflow: ellipsis;
						}
		
						.description {
							color: var(--fill-secondary);
							font-size: 12px;
							line-height: 16px;
							overflow: hidden;
							text-overflow: ellipsis;
						}
					}
				}
			}
		}
		#library-trees {
			min-height: 0;
			flex: 1;
			-moz-window-dragging: no-drag;
	
			#collections-tree-container {
				min-width: 200px;
				min-height: 100%;
				border-inline-end: var(--material-panedivider);
				& > #zotero-collections-tree {
					background: var(--material-sidepane) !important;
				}
			}
		
			#item-tree-container {
				min-height: 100%;
				flex: 1; /* expand all the way to the right */
			}
		}
	}

	#list-layout {
		#list-layout-wrapper {
			overflow-y: scroll;
			margin: 0 8px 8px 8px;
			.section {
				border-bottom: 1px solid var(--fill-quinary);
	
				.header {
					font-weight: 700;
					font-size: 13px;
					color: var(--fill-secondary);
					margin-inline-start: 8px;
					padding: 4px 8px;
				}
				.item {
					padding: 4px 8px;
					margin-inline-start: 8px;

					border-radius: 5px;
					color: var(--fill-primary);
					-moz-window-dragging: no-drag;
					cursor: default;
					&:hover {
						background-color: var(--fill-quarternary);
					}

					.icon {
						margin-top: 1px;
						margin-inline-end: 4px;
					}
				}
			}
		}
	}

	#popups {
		.overlay {
			position: absolute;
			top: 0;
			width: 100%;
			height: 100%;
			background-color: rgba(0, 0, 0, 0.1);
		}
		.popup {
			position: absolute;
			z-index: 1000;
			background-color: white;
			border: 1px solid #ccc;
			padding: 10px;
			box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
			border-radius: 10px;
			&:not([open]) {
				left: -1000px !important;
				top: -1000px !important;
			}
		}
		#settingsPopup {
			top: 35px;
			right: 5px;
		}
		#itemDetails {
			width: 400px;
			.details-header {
				.icon {
					margin-inline-end: 5px;
					margin-top: 2px;
					flex-shrink: 0;
				}
			}
			.details {
				display: grid;
				align-items: center;
				grid-template-columns: max-content 1fr;
				.details-label {
					margin-top: auto;
					margin-bottom: auto;
					width: min-content;
					margin-inline-start: auto;
				}
			}
		}
	}

	// description of the item constructed in citationDialog.js Helpers.buildItemDescription()
	.description {
		color: var(--fill-secondary);
		font-size: 12px;
		span:not(:last-child):not([no-comma])::after {
			content: ", ";
		}
	}
}